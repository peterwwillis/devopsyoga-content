#!/usr/bin/env python
import re

f = open('do-tool-chest.txt')
content = f.read()
f.close()

#print "content: %s\n" % content

mydesc = re.findall( r'\[(\d+)\]\[([\w\.]+)\]\n\n((?:[\S ]+\n)+)', content, re.I & re.M & re.S) 


mylink = re.findall( r'\s*(\d+)\. (.+)', content )
print "links:\n"
for e in mylink:
    linkid, link = e
    print "link: %s, %s" % (linkid, link)

print "\n"

print "descriptions:\n"
for e in mydesc:
    linkid, img, desc = e
    desc = ' '.join( line.strip() for line in desc.splitlines() )
    print "list: %s, %s, %s" % ( linkid, img, desc )

